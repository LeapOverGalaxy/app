(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-IdentRegisterVerify"],{"2abb":function(e,t,s){"use strict";var a={ucToast:s("e692").default},n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-uni-view",{staticClass:"sPage"},[s("ucToast",{ref:"toast"}),s("v-uni-view",{staticClass:"sLogo"}),s("v-uni-view",{staticClass:"sForm"},[s("v-uni-view",{staticClass:"sInputField"},[s("v-uni-text",{staticClass:"sLabel"},[e._v(e._s(e.lot.tPhoneLabel))]),s("v-uni-text",{staticClass:"sPhoneInput",class:{sErrorPrompt:!e.$SS.Ident.phone}},[e._v(e._s(e.$SS.Ident.phone||e.lot.tEmptyPhone))])],1),s("v-uni-view",{staticClass:"sInputField"},[s("v-uni-text",{staticClass:"sLabel"},[e._v(e._s(e.lot.tPasscodeLabel))]),s("v-uni-view",{staticClass:"sValue"},[s("v-uni-input",{staticClass:"sPasscodeInput",attrs:{type:"number",maxlength:"6",placeholder:e.passcodePrompt,"placeholder-class":e.passcodeFeedback?"sErrorPrompt":"sPlaceholder"},model:{value:e.$SS.Ident.passcode,callback:function(t){e.$set(e.$SS.Ident,"passcode",t)},expression:"$SS.Ident.passcode"}}),s("v-uni-button",{staticClass:"sPasscodeButton",attrs:{loading:e.isSending,disabled:e.isSendingDisabled},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getPasscode.apply(void 0,arguments)}}},[e._v(e._s((e.remainingSeconds?"("+e.remainingSeconds+") ":"")+e.lot.tPasscodeButton))])],1)],1),s("v-uni-view",{staticClass:"sInputField"},[s("v-uni-text",{staticClass:"sLabel"},[e._v(e._s(e.lot.tRegcodeLabel))]),s("v-uni-input",{staticClass:"sRegcodeInput",attrs:{type:"text",maxlength:"8",placeholder:e.regcodeFeedback,"placeholder-class":e.regcodeFeedback!==e.lot.tRegcodePrompt?"sErrorPrompt":"sPlaceholder",disabled:e.$SS.Ident.regcodeFrozen},model:{value:e.$SS.Ident.regcode,callback:function(t){e.$set(e.$SS.Ident,"regcode",t)},expression:"$SS.Ident.regcode"}})],1)],1),s("v-uni-view",{staticClass:"sFooterFloating"},[s("v-uni-button",{staticClass:"sSubmitButton",attrs:{loading:e.isLoading,disabled:e.isLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.prepareRegister.apply(void 0,arguments)}}},[e._v(e._s(e.lot.tVerifyButton))])],1)],1)},o=[];s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return o})),s.d(t,"a",(function(){return a}))},6984:function(e,t,s){e.exports=s.p+"static/img/Welcome.background.7d4c136f.jpg"},"70b4":function(e,t,s){"use strict";s.r(t);var a=s("2abb"),n=s("a8fc");for(var o in n)"default"!==o&&function(e){s.d(t,e,(function(){return n[e]}))}(o);s("b80d");var d,i=s("f0c5"),c=Object(i["a"])(n["default"],a["b"],a["c"],!1,null,"f05dec94",null,!1,a["a"],d);t["default"]=c.exports},"82e1":function(e,t,s){var a=s("e1aa");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=s("4f06").default;n("3bc32d38",a,!0,{sourceMap:!1,shadowMode:!1})},"9fca":function(e,t,s){"use strict";var a=s("ee27");s("dca8"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(s("d0af"));s("96cf");var o=a(s("c964")),d=60,i={data:function(){return{isLoading:!1,isSending:!1,isSendingDisabled:!1,remainingSeconds:0,passcodeHash:"",passcodeExpireAt:"",passcodeFeedback:"",regcodeFeedback:"",i18nText:Object.freeze({zhCN:{tPageTitle:"éªŒè¯",tPhoneLabel:"æ‰‹æœºå·",tPasscodeLabel:"éªŒè¯ç ",tPasscodePrompt:"æ‰‹æœºçŸ­ä¿¡éªŒè¯ç ",tPasscodeButton:"è·å–",tPasscodeSent:"éªŒè¯ç å·²æˆåŠŸå‘é€",tPasscodeMalformed:"æ ¼å¼é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥",tPasscodeUnsent:"å‘é€å¤±è´¥ï¼Œè¯·ç¨åå†è¯•",tPasscodeMismatchClient:"éªŒè¯é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥",tPasscodeExpired:"å·²è¿‡æœŸï¼Œè¯·é‡æ–°è·å–",tPasscodeMismatchServer:"éªŒè¯å¤±è´¥ï¼Œè¯·é‡æ–°è·å–",tBadResponse:"ğŸ˜­ åå°é”™è¯¯ï¼Œè¯·ç¨åå†è¯•",tVerifyButton:"éªŒ è¯",tEmptyPhone:"æ‰‹æœºå·ä¸å­˜åœ¨",tRegcodeLabel:"é‚€è¯·ç ",tRegcodePrompt:"æ‚¨çš„æ³¨å†Œé‚€è¯·ç ",tRegcodeMalformed:"æ ¼å¼é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥",tRegcodeNotExist:"æ— æ•ˆçš„é‚€è¯·ç ï¼Œè¯·é‡æ–°è¾“å…¥"},enUS:{tPageTitle:"éªŒè¯",tPhoneLabel:"æ‰‹æœºå·",tPasscodeLabel:"éªŒè¯ç ",tPasscodePrompt:"æ‰‹æœºçŸ­ä¿¡éªŒè¯ç ",tPasscodeButton:"è·å–",tPasscodeSent:"éªŒè¯ç å·²æˆåŠŸå‘é€",tPasscodeMalformed:"æ ¼å¼é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥",tPasscodeUnsent:"å‘é€å¤±è´¥ï¼Œè¯·ç¨åå†è¯•",tPasscodeMismatchClient:"éªŒè¯é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥",tPasscodeExpired:"å·²è¿‡æœŸï¼Œè¯·é‡æ–°è·å–",tPasscodeMismatchServer:"éªŒè¯å¤±è´¥ï¼Œè¯·é‡æ–°è·å–",tBadResponse:"ğŸ˜­ åå°é”™è¯¯ï¼Œè¯·ç¨åå†è¯•",tVerifyButton:"éªŒ è¯",tEmptyPhone:"æ‰‹æœºå·ä¸å­˜åœ¨",tRegcodeLabel:"é‚€è¯·ç ",tRegcodePrompt:"æ‚¨çš„æ³¨å†Œé‚€è¯·ç ",tRegcodeMalformed:"æ ¼å¼é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥",tRegcodeNotExist:"æ— æ•ˆçš„é‚€è¯·ç ï¼Œè¯·é‡æ–°è¾“å…¥"}})}},computed:{lot:function(){return this.i18nText[this.$SS.i18n.activeLang]},passcodePrompt:function(){return this.passcodeFeedback?(this.$SS.Ident.passcode="",this.passcodeFeedback):this.lot.tPasscodePrompt}},onLoad:function(){this.$store.dispatch("Ident/restartIfOnline"),this.$SS.Ident.passcode="",this.regcodeFeedback=this.lot.tRegcodePrompt},onShow:function(){this.unimore.setBarTitles.call(this)},methods:{getPasscode:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var s,a,o,i,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$SS.Ident.phone||!e.$SS.Ident.uuid){t.next=17;break}return e.isSending=!0,e.isSendingDisabled=!0,t.next=5,e.unimore.request({url:"api/User/sendPasscode",data:{}});case 5:s=t.sent,a=(0,n.default)(s,2),a[0],o=a[1],o=void 0===o?{}:o,i=o.data,c=void 0===i?{}:i,o.statusCode,o.header,o.errMsg,e.isSending=!1,e.remainingSeconds=d,r=setInterval((function(){e.remainingSeconds>0?e.remainingSeconds--:(clearInterval(r),e.isSendingDisabled=!1)}),1e3),c?"PASSCODE_SENT"===c._state?(uni.setStorageSync("_passtoken",c._passtoken),e.passcodeHash=c.passcodeHash,e.passcodeExpireAt=c.passcodeExpireAt,e.unimore.showToast.call(e,{type:"success",title:e.lot.tPasscodeSent})):"PASSCODE_UNSENT"===c._state?e.unimore.showToast.call(e,{type:"fail",title:e.lot.tPasscodeUnsent}):e.unimore.showToast.call(e,{type:"fail",title:e.lot.tBadResponse}):e.unimore.showToast.call(e,{type:"fail",title:e.lot.tBadResponse}),t.next=18;break;case 17:uni.redirectTo({url:"Ident"});case 18:case"end":return t.stop()}}),t)})))()},validateInput:function(){var e=!0;return/^\d{6}$/.test(this.$SS.Ident.passcode)?Date.now()>this.passcodeExpireAt?(this.passcodeFeedback=this.lot.tPasscodeExpired,this.$SS.Ident.passcode="",e=!1):this.unimore.hash(this.$SS.Ident.passcode+this.$SS.Ident.uuid)!==this.passcodeHash&&(this.passcodeFeedback=this.lot.tPasscodeMismatchClient,this.$SS.Ident.passcode="",e=!1):(this.passcodeFeedback=this.lot.tPasscodeMalformed,this.$SS.Ident.passcode="",e=!1),/^[0-9a-zA-Z]{6,8}$/.test(this.$SS.Ident.regcode)||(this.regcodeFeedback=this.lot.tRegcodeMalformed,this.$SS.Ident.regcode="",e=!1),e},prepareRegister:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var s,a,o,d,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.validateInput()){t.next=12;break}return e.isLoading=!0,t.next=4,e.unimore.request({url:"api/User/prepareRegister",data:{passcode:e.$SS.Ident.passcode,regcode:e.$SS.Ident.regcode}});case 4:s=t.sent,a=(0,n.default)(s,2),a[0],o=a[1],o=void 0===o?{}:o,d=o.data,i=void 0===d?{}:d,o.statusCode,o.header,o.errMsg,e.isLoading=!1,i&&("VERIFY_SUCCESS"===i._state?(uni.setStorageSync("_passtoken",i._passtoken),uni.navigateTo({url:"IdentRegister"})):"PASSCODE_EXPIRED"===i._state?(e.passcodeFeedback=e.lot.tPasscodeExpired,e.$SS.Ident.passcode=""):"REGCODE_USER_NOTEXIST"===i._state?(e.regcodeFeedback=e.lot.tRegcodeNotExist,e.$SS.Ident.regcode="",e.$SS.Ident.regcodeFrozen=!1):(e.passcodeFeedback=e.lot.tPasscodeMismatchServer,e.$SS.Ident.passcode=""));case 12:case"end":return t.stop()}}),t)})))()}}};t.default=i},a8fc:function(e,t,s){"use strict";s.r(t);var a=s("9fca"),n=s.n(a);for(var o in a)"default"!==o&&function(e){s.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},b80d:function(e,t,s){"use strict";var a=s("82e1"),n=s.n(a);n.a},e1aa:function(e,t,s){var a=s("24fb"),n=s("1de5"),o=s("6984");t=a(!1);var d=n(o);t.push([e.i,'@charset "UTF-8";\n/**\n * è¿™é‡Œæ˜¯uni-appå†…ç½®çš„å¸¸ç”¨æ ·å¼å˜é‡\n *\n * uni-app å®˜æ–¹æ‰©å±•æ’ä»¶åŠæ’ä»¶å¸‚åœºï¼ˆhttps://ext.dcloud.net.cnï¼‰ä¸Šå¾ˆå¤šä¸‰æ–¹æ’ä»¶å‡ä½¿ç”¨äº†è¿™äº›æ ·å¼å˜é‡\n * å¦‚æœä½ æ˜¯æ’ä»¶å¼€å‘è€…ï¼Œå»ºè®®ä½ ä½¿ç”¨scssé¢„å¤„ç†ï¼Œå¹¶åœ¨æ’ä»¶ä»£ç ä¸­ç›´æ¥ä½¿ç”¨è¿™äº›å˜é‡ï¼ˆæ— éœ€ import è¿™ä¸ªæ–‡ä»¶ï¼‰ï¼Œæ–¹ä¾¿ç”¨æˆ·é€šè¿‡æ­ç§¯æœ¨çš„æ–¹å¼å¼€å‘æ•´ä½“é£æ ¼ä¸€è‡´çš„App\n *\n */\n/**\n * å¦‚æœä½ æ˜¯Appå¼€å‘è€…ï¼ˆæ’ä»¶ä½¿ç”¨è€…ï¼‰ï¼Œä½ å¯ä»¥é€šè¿‡ä¿®æ”¹è¿™äº›å˜é‡æ¥å®šåˆ¶è‡ªå·±çš„æ’ä»¶ä¸»é¢˜ï¼Œå®ç°è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½\n *\n * å¦‚æœä½ çš„é¡¹ç›®åŒæ ·ä½¿ç”¨äº†scssé¢„å¤„ç†ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ä½ çš„ scss ä»£ç ä¸­ä½¿ç”¨å¦‚ä¸‹å˜é‡ï¼ŒåŒæ—¶æ— éœ€ import è¿™ä¸ªæ–‡ä»¶\n */\n/* é¢œè‰²å˜é‡ */\n/* è¡Œä¸ºç›¸å…³é¢œè‰² */\n/* æ–‡å­—åŸºæœ¬é¢œè‰² */\n/* èƒŒæ™¯é¢œè‰² */\n/* è¾¹æ¡†é¢œè‰² */\n/* å°ºå¯¸å˜é‡ */\n/* æ–‡å­—å°ºå¯¸ */\n/* å›¾ç‰‡å°ºå¯¸ */\n/* Border Radius */\n/* æ°´å¹³é—´è· */\n/* å‚ç›´é—´è· */\n/* é€æ˜åº¦ */\n/* æ–‡ç« åœºæ™¯ç›¸å…³ */\n/**\n * Theme\n */\n/******* LOG ç§æœ‰å®šä¹‰ ************/.sPage[data-v-f05dec94]{background-image:url('+d+")}.sPage .sForm[data-v-f05dec94]{padding:%?15?%\n}@media screen and (min-width:751px){.sPage .sForm[data-v-f05dec94]{padding:2%}}.sPage .sForm .sInputField[data-v-f05dec94]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;padding:%?15?%;border-bottom:1px solid #f3f4f6;color:#fff;margin:%?20?% auto\n}@media screen and (min-width:751px){.sPage .sForm .sInputField[data-v-f05dec94]{margin:20px auto}}.sPage .sForm .sInputField .sLabel[data-v-f05dec94]{width:25%;font-size:%?36?%\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sLabel[data-v-f05dec94]{font-size:36px}}.sPage .sForm .sInputField .sPhoneInput[data-v-f05dec94], .sPage .sForm .sInputField .sRegcodeInput[data-v-f05dec94]{width:75%;font-size:%?36?%;letter-spacing:%?10?%\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPhoneInput[data-v-f05dec94], .sPage .sForm .sInputField .sRegcodeInput[data-v-f05dec94]{font-size:36px}}.sPage .sForm .sInputField .sValue[data-v-f05dec94]{width:75%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.sPage .sForm .sInputField .sPasscodeInput[data-v-f05dec94]{font-size:%?36?%;letter-spacing:%?10?%;-webkit-box-flex:1;-webkit-flex:auto;flex:auto\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPasscodeInput[data-v-f05dec94]{font-size:36px}}.sPage .sForm .sInputField .sPasscodeButton[data-v-f05dec94]{height:%?52?%;line-height:%?52?%;background:#fc962b;color:#000;font-size:small;margin:0;padding:0 %?15?%;-webkit-box-flex:0;-webkit-flex:none;flex:none\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPasscodeButton[data-v-f05dec94]{height:52px;line-height:52px;padding:0 15px}}.sPage .sForm .sInputField .sErrorPrompt[data-v-f05dec94]{color:#fc4e2b;letter-spacing:normal}.sPage .sForm .sInputField .sPlaceholder[data-v-f05dec94]{letter-spacing:normal}",""]),e.exports=t}}]);