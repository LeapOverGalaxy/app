(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-IdentLogin"],{"08db":function(e,t,s){var a=s("24fb"),o=s("1de5"),n=s("6984");t=a(!1);var i=o(n);t.push([e.i,'@charset "UTF-8";\n/**\n * è¿™é‡Œæ˜¯uni-appå†…ç½®çš„å¸¸ç”¨æ ·å¼å˜é‡\n *\n * uni-app å®˜æ–¹æ‰©å±•æ’ä»¶åŠæ’ä»¶å¸‚åœºï¼ˆhttps://ext.dcloud.net.cnï¼‰ä¸Šå¾ˆå¤šä¸‰æ–¹æ’ä»¶å‡ä½¿ç”¨äº†è¿™äº›æ ·å¼å˜é‡\n * å¦‚æœä½ æ˜¯æ’ä»¶å¼€å‘è€…ï¼Œå»ºè®®ä½ ä½¿ç”¨scssé¢„å¤„ç†ï¼Œå¹¶åœ¨æ’ä»¶ä»£ç ä¸­ç›´æ¥ä½¿ç”¨è¿™äº›å˜é‡ï¼ˆæ— éœ€ import è¿™ä¸ªæ–‡ä»¶ï¼‰ï¼Œæ–¹ä¾¿ç”¨æˆ·é€šè¿‡æ­ç§¯æœ¨çš„æ–¹å¼å¼€å‘æ•´ä½“é£æ ¼ä¸€è‡´çš„App\n *\n */\n/**\n * å¦‚æœä½ æ˜¯Appå¼€å‘è€…ï¼ˆæ’ä»¶ä½¿ç”¨è€…ï¼‰ï¼Œä½ å¯ä»¥é€šè¿‡ä¿®æ”¹è¿™äº›å˜é‡æ¥å®šåˆ¶è‡ªå·±çš„æ’ä»¶ä¸»é¢˜ï¼Œå®ç°è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½\n *\n * å¦‚æœä½ çš„é¡¹ç›®åŒæ ·ä½¿ç”¨äº†scssé¢„å¤„ç†ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ä½ çš„ scss ä»£ç ä¸­ä½¿ç”¨å¦‚ä¸‹å˜é‡ï¼ŒåŒæ—¶æ— éœ€ import è¿™ä¸ªæ–‡ä»¶\n */\n/* é¢œè‰²å˜é‡ */\n/* è¡Œä¸ºç›¸å…³é¢œè‰² */\n/* æ–‡å­—åŸºæœ¬é¢œè‰² */\n/* èƒŒæ™¯é¢œè‰² */\n/* è¾¹æ¡†é¢œè‰² */\n/* å°ºå¯¸å˜é‡ */\n/* æ–‡å­—å°ºå¯¸ */\n/* å›¾ç‰‡å°ºå¯¸ */\n/* Border Radius */\n/* æ°´å¹³é—´è· */\n/* å‚ç›´é—´è· */\n/* é€æ˜åº¦ */\n/* æ–‡ç« åœºæ™¯ç›¸å…³ */\n/**\n * Theme\n */\n/******* LOG ç§æœ‰å®šä¹‰ ************/.sPage[data-v-52d04efe]{background-image:url('+i+")}.sPage .sForm[data-v-52d04efe]{padding:%?15?%\n}@media screen and (min-width:751px){.sPage .sForm[data-v-52d04efe]{padding:2%}}.sPage .sForm .sTabSet[data-v-52d04efe]{margin:0 auto;margin-bottom:%?40?%;width:80%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.sPage .sForm .sTabSet .sTabButton[data-v-52d04efe]{margin:0;color:#fc4e2b;width:50%;height:%?60?%;line-height:%?60?%}.sPage .sForm .sTabSet .sTabButton[data-v-52d04efe]:nth-child(1){border-radius:4px 0 0 4px}.sPage .sForm .sTabSet .sTabButton[data-v-52d04efe]:nth-child(2){border-radius:0 4px 4px 0}.sPage .sForm .sTabSet .sTabButton.sActiveTab[data-v-52d04efe]{background:#fc4e2b;color:#fff}.sPage .sForm .sInputField[data-v-52d04efe]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;padding:%?15?%;border-bottom:1px solid #f3f4f6;color:#fff;margin:%?20?% auto\n}@media screen and (min-width:751px){.sPage .sForm .sInputField[data-v-52d04efe]{margin:20px auto}}.sPage .sForm .sInputField .sLabel[data-v-52d04efe]{width:25%}.sPage .sForm .sInputField .sLabel[data-v-52d04efe]{width:25%;font-size:%?36?%\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sLabel[data-v-52d04efe]{font-size:36px}}.sPage .sForm .sInputField .sPhoneInput[data-v-52d04efe]{width:75%;font-size:%?36?%;letter-spacing:%?10?%\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPhoneInput[data-v-52d04efe]{font-size:36px}}.sPage .sForm .sInputField .sValue[data-v-52d04efe]{width:75%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.sPage .sForm .sInputField .sPasswordInput[data-v-52d04efe]{font-size:%?36?%;letter-spacing:%?10?%;-webkit-box-flex:1;-webkit-flex:auto;flex:auto\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPasswordInput[data-v-52d04efe]{font-size:36px}}.sPage .sForm .sInputField .sPasswordForgotten[data-v-52d04efe]{font-size:small;background:#fc962b;color:#000;height:%?52?%;line-height:%?52?%;padding:0 %?15?%;-webkit-box-flex:0;-webkit-flex:none;flex:none\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPasswordForgotten[data-v-52d04efe]{height:52px;line-height:52px;padding:0 15px}}.sPage .sForm .sInputField .sPasscodeInput[data-v-52d04efe]{font-size:%?36?%\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPasscodeInput[data-v-52d04efe]{font-size:36px}}.sPage .sForm .sInputField .sPasscodeButton[data-v-52d04efe]{height:%?52?%;line-height:%?52?%;background:#fc962b;color:#000;font-size:small;margin:0;padding:0 %?15?%\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPasscodeButton[data-v-52d04efe]{height:52px;line-height:52px;padding:0 15px}}.sPage .sForm .sInputField .sErrorPrompt[data-v-52d04efe]{color:#fc4e2b;letter-spacing:normal}.sPage .sForm .sInputField .sPlaceholder[data-v-52d04efe]{letter-spacing:normal}.sPage .sSubmitFeedback[data-v-52d04efe]{opacity:0;-webkit-transition:all 1s ease-in-out 0s;transition:all 1s ease-in-out 0s;font-size:small;color:#fc4e2b;margin:%?20?% auto\n}@media screen and (min-width:751px){.sPage .sSubmitFeedback[data-v-52d04efe]{margin:20px auto}}.sPage .sSubmitFeedback.sActive[data-v-52d04efe]{opacity:1}",""]),e.exports=t},6984:function(e,t,s){e.exports=s.p+"static/img/Welcome.background.7d4c136f.jpg"},"776a":function(e,t,s){"use strict";(function(e){var a=s("ee27");s("dca8"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(s("d0af"));s("96cf");var n=a(s("c964")),i={data:function(){return{isLoading:!1,activeTab:"TAB_PASSWORD",password:"",passwordPrompt:"",passcodePrompt:"",submitFeedback:"",i18nText:Object.freeze({zhCN:{tPageTitle:"ç™»å½•",tPhoneLabel:"æ‰‹æœºå·",tTabPasscode:"éªŒè¯ç ",tPasscodeLabel:"éªŒè¯ç ",tPasscodePrompt:"è¾“å…¥çŸ­ä¿¡éªŒè¯ç ",tPasscodeButton:"è·å–",tPasscodeMalformed:"éªŒè¯ç æ ¼å¼é”™è¯¯",tTabPassword:"å¯†ç ",tPasswordLabel:"å¯†ç ",tPasswordPrompt:"è¾“å…¥ç™»å½•å¯†ç ",tPasswordForgotten:"é‡è®¾",tPasswordMalformed:"å¯†ç æ ¼å¼é”™è¯¯",tPasswordUnmatch:"å¯†ç é”™è¯¯",tUserNotExist:"è¯¥æ‰‹æœºå·ç”¨æˆ·ä¸å­˜åœ¨",tBadResponse:"ğŸ˜­ åå°å¼‚å¸¸",tLoginButton:"ç™» å½•",tEmptyPhone:"æ‰‹æœºå·ä¸å­˜åœ¨"},enUS:{tPageTitle:"Login",tPhoneLabel:"Phone",tTabPasscode:"Passcode",tPasscodeLabel:"Passcode",tPasscodePrompt:"Input passcode",tPasscodeButton:"Send",tPasscodeMalformed:"Invalid format",tTabPassword:"Password",tPasswordLabel:"Password",tPasswordPrompt:"Input user password",tPasswordForgotten:"Reset",tPasswordMalformed:"Invalid format",tPasswordUnmatch:"Unmatched",tUserNotExist:"User not exist",tBadResponse:"ğŸ˜­ Exception",tLoginButton:"Login",tEmptyPhone:"Empty number, go back please"}})}},computed:{lot:getApp().unimore.localeText},onLoad:function(){this.$store.dispatch("Ident/restartIfOnline"),this.passwordPrompt=this.lot.tPasswordPrompt,this.passcodePrompt=this.lot.tPasscodePrompt},onShow:function(){this.unimore.setBarTitles.call(this)},methods:{submitLogin:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function s(){var a,n,i,d,r,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a=!0,"TAB_PASSWORD"!==t.activeTab){s.next=19;break}if(e("log","submitWithPassword"," at pages/IdentLogin.vue:68"),/^.{6,}$/.test(t.password)||(t.password="",t.passwordPrompt=t.lot.tPasswordMalformed,a=!1),!a){s.next=17;break}return t.$SS.Ident.passwordClient=t.unimore.hash(t.password+t.$SS.Ident.uuid),t.isLoading=!0,s.next=9,t.unimore.request({url:"api/User/login",data:{phone:t.$SS.Ident.phone,passwordClient:t.$SS.Ident.passwordClient}});case 9:n=s.sent,i=(0,o.default)(n,2),i[0],d=i[1],d=void 0===d?{}:d,r=d.data,l=void 0===r?{}:r,d.statusCode,d.header,d.errMsg,t.isLoading=!1,l?"LOGIN_SUCCESS"===l._state?(t.unimore.clog("LOGIN_SUCCESS"),uni.setStorageSync("_passtoken",l._passtoken),t.unimore.clog("------------login success: sending socket message---------------"),t.$SKT.sendObject({skevent:"SOCKET_OWNER",_passtoken:l._passtoken}),t.$SS.User.onlineUser=l.onlineUser,l.onlineUser&&l.onlineUser.lang&&(t.$SS.i18n.activeLang=l.onlineUser.lang,uni.setStorageSync("activeLang",t.$SS.i18n.activeLang)),t.unimore.clog(t.$SS.User.onlineUser),uni.switchTab({url:"Market"})):"LOGIN_FAILED_WRONG_PASSWORD"===l._state?(t.unimore.clog("LOGIN_FAILED_WRONG_PASSWORD"),t.unimore.showToast.call(t,{type:"fail",title:t.lot.tPasswordUnmatch})):"LOGIN_FAILED_USER_NOTEXIST"===l._state&&(t.unimore.clog("LOGIN_FAILED_USER_NOTEXIST"),t.unimore.showToast.call(t,{type:"fail",title:t.lot.tUserNotExist})):t.unimore.showToast.call(t,{type:"fail",title:t.lot.tBadResponse});case 17:s.next=20;break;case 19:"TAB_PASSCODE"===t.activeTab&&(e("log","submitWithPasscode"," at pages/IdentLogin.vue:112"),/^\d{6}$/.test(t.$SS.Ident.passcode)||(t.$SS.Ident.passcode="",t.passcodePrompt=t.lot.tPasscodeMalformed,a=!1));case 20:case"end":return s.stop()}}),s)})))()},gotoReset:function(){uni.navigateTo({url:"IdentResetVerify"})}}};t.default=i}).call(this,s("0de9")["log"])},8407:function(e,t,s){"use strict";var a={ucToast:s("e692").default},o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-uni-view",{staticClass:"sPage"},[s("ucToast",{ref:"toast"}),s("v-uni-view",{staticClass:"sLogo"}),s("v-uni-view",{staticClass:"sForm"},[e._e(),s("v-uni-view",{staticClass:"sInputField"},[s("v-uni-text",{staticClass:"sLabel"},[e._v(e._s(e.lot.tPhoneLabel))]),s("v-uni-text",{staticClass:"sPhoneInput",class:{sErrorPrompt:!e.$SS.Ident.phone}},[e._v(e._s(e.$SS.Ident.phone||e.lot.tEmptyPhone))])],1),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"TAB_PASSWORD"===e.activeTab,expression:"activeTab==='TAB_PASSWORD'"}]},[s("v-uni-view",{staticClass:"sInputField"},[s("v-uni-text",{staticClass:"sLabel"},[e._v(e._s(e.lot.tPasswordLabel))]),s("v-uni-view",{staticClass:"sValue"},[s("v-uni-input",{staticClass:"sPasswordInput",attrs:{type:"text",password:"true",placeholder:e.passwordPrompt,"placeholder-class":e.passwordPrompt!==e.lot.tPasswordPrompt?"sErrorPrompt":"sPlaceholder"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-uni-button",{staticClass:"sPasswordForgotten",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.gotoReset.apply(void 0,arguments)}}},[e._v(e._s(e.lot.tPasswordForgotten))])],1)],1)],1),s("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"TAB_PASSCODE"===e.activeTab,expression:"activeTab==='TAB_PASSCODE'"}]},[s("v-uni-view",{staticClass:"sInputField"},[s("v-uni-text",{staticClass:"sLabel"},[e._v(e._s(e.lot.tPasscodeLabel))]),s("v-uni-view",{staticClass:"sValue"},[s("v-uni-input",{staticClass:"sPasscodeInput",attrs:{type:"number",maxlength:"6",placeholder:e.passcodePrompt,"placeholder-class":e.passcodePrompt!==e.lot.tPasscodePrompt?"sErrorPrompt":"sPlaceholder"},model:{value:e.$SS.Ident.passcode,callback:function(t){e.$set(e.$SS.Ident,"passcode",t)},expression:"$SS.Ident.passcode"}}),s("v-uni-button",{staticClass:"sPasscodeButton"},[e._v(e._s(e.lot.tPasscodeButton))])],1)],1)],1)],1),s("v-uni-view",{staticClass:"sFooterFloating"},[s("v-uni-button",{staticClass:"sSubmitButton",attrs:{loading:e.isLoading,disabled:e.isLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitLogin.apply(void 0,arguments)}}},[e._v(e._s(e.lot.tLoginButton))]),s("v-uni-text",{staticClass:"sSubmitFeedback",class:{sActive:e.submitFeedback}},[e._v(e._s(e.submitFeedback))])],1)],1)},n=[];s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return n})),s.d(t,"a",(function(){return a}))},aa26:function(e,t,s){"use strict";s.r(t);var a=s("8407"),o=s("d59f");for(var n in o)"default"!==n&&function(e){s.d(t,e,(function(){return o[e]}))}(n);s("e160");var i,d=s("f0c5"),r=Object(d["a"])(o["default"],a["b"],a["c"],!1,null,"52d04efe",null,!1,a["a"],i);t["default"]=r.exports},c7c3:function(e,t,s){var a=s("08db");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=s("4f06").default;o("1451add3",a,!0,{sourceMap:!1,shadowMode:!1})},d59f:function(e,t,s){"use strict";s.r(t);var a=s("776a"),o=s.n(a);for(var n in a)"default"!==n&&function(e){s.d(t,e,(function(){return a[e]}))}(n);t["default"]=o.a},e160:function(e,t,s){"use strict";var a=s("c7c3"),o=s.n(a);o.a}}]);