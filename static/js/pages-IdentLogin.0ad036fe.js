(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-IdentLogin"],{1999:function(t,s,e){"use strict";var a=e("3960"),n=e.n(a);n.a},3960:function(t,s,e){var a=e("5b3c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("8050c30e",a,!0,{sourceMap:!1,shadowMode:!1})},"5b3c":function(t,s,e){var a=e("b041");s=t.exports=e("2350")(!1),s.push([t.i,'@charset "UTF-8";\n/**\r\n * è¿™é‡Œæ˜¯uni-appå†…ç½®çš„å¸¸ç”¨æ ·å¼å˜é‡\r\n *\r\n * uni-app å®˜æ–¹æ‰©å±•æ’ä»¶åŠæ’ä»¶å¸‚åœºï¼ˆhttps://ext.dcloud.net.cnï¼‰ä¸Šå¾ˆå¤šä¸‰æ–¹æ’ä»¶å‡ä½¿ç”¨äº†è¿™äº›æ ·å¼å˜é‡\r\n * å¦‚æœä½ æ˜¯æ’ä»¶å¼€å‘è€…ï¼Œå»ºè®®ä½ ä½¿ç”¨scssé¢„å¤„ç†ï¼Œå¹¶åœ¨æ’ä»¶ä»£ç ä¸­ç›´æ¥ä½¿ç”¨è¿™äº›å˜é‡ï¼ˆæ— éœ€ import è¿™ä¸ªæ–‡ä»¶ï¼‰ï¼Œæ–¹ä¾¿ç”¨æˆ·é€šè¿‡æ­ç§¯æœ¨çš„æ–¹å¼å¼€å‘æ•´ä½“é£æ ¼ä¸€è‡´çš„App\r\n *\r\n */\n/**\r\n * å¦‚æœä½ æ˜¯Appå¼€å‘è€…ï¼ˆæ’ä»¶ä½¿ç”¨è€…ï¼‰ï¼Œä½ å¯ä»¥é€šè¿‡ä¿®æ”¹è¿™äº›å˜é‡æ¥å®šåˆ¶è‡ªå·±çš„æ’ä»¶ä¸»é¢˜ï¼Œå®ç°è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½\r\n *\r\n * å¦‚æœä½ çš„é¡¹ç›®åŒæ ·ä½¿ç”¨äº†scssé¢„å¤„ç†ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ä½ çš„ scss ä»£ç ä¸­ä½¿ç”¨å¦‚ä¸‹å˜é‡ï¼ŒåŒæ—¶æ— éœ€ import è¿™ä¸ªæ–‡ä»¶\r\n */\n/* é¢œè‰²å˜é‡ */\n/* è¡Œä¸ºç›¸å…³é¢œè‰² */\n/* æ–‡å­—åŸºæœ¬é¢œè‰² */\n/* èƒŒæ™¯é¢œè‰² */\n/* è¾¹æ¡†é¢œè‰² */\n/* å°ºå¯¸å˜é‡ */\n/* æ–‡å­—å°ºå¯¸ */\n/* å›¾ç‰‡å°ºå¯¸ */\n/* Border Radius */\n/* æ°´å¹³é—´è· */\n/* å‚ç›´é—´è· */\n/* é€æ˜åº¦ */\n/* æ–‡ç« åœºæ™¯ç›¸å…³ */\n/******* LOG ç§æœ‰å®šä¹‰ ************/.sPage[data-v-4b38d5b6]{background-image:url('+a(e("6984"))+")}.sPage .sForm[data-v-4b38d5b6]{padding:%?15?%\n\n}@media screen and (min-width:751px){.sPage .sForm[data-v-4b38d5b6]{padding:2%}}.sPage .sForm .sTabSet[data-v-4b38d5b6]{margin:0 auto;margin-bottom:%?40?%;width:80%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.sPage .sForm .sTabSet .sTabButton[data-v-4b38d5b6]{margin:0;color:#fc4e2b;width:50%;height:%?60?%;line-height:%?60?%}.sPage .sForm .sTabSet .sTabButton[data-v-4b38d5b6]:nth-child(1){border-radius:4px 0 0 4px}.sPage .sForm .sTabSet .sTabButton[data-v-4b38d5b6]:nth-child(2){border-radius:0 4px 4px 0}.sPage .sForm .sTabSet .sTabButton.sActiveTab[data-v-4b38d5b6]{background:#fc4e2b;color:#fff}.sPage .sForm .sInputField[data-v-4b38d5b6]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;padding:%?15?%;border-bottom:1px solid #eee;color:#fff;margin:%?40?% auto\n\n}@media screen and (min-width:751px){.sPage .sForm .sInputField[data-v-4b38d5b6]{margin:40px auto}}.sPage .sForm .sInputField .sLabel[data-v-4b38d5b6]{width:25%}.sPage .sForm .sInputField .sLabel[data-v-4b38d5b6]{width:25%;font-size:%?36?%\n\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sLabel[data-v-4b38d5b6]{font-size:36px}}.sPage .sForm .sInputField .sPhoneInput[data-v-4b38d5b6]{width:75%;font-size:%?36?%;letter-spacing:%?10?%\n\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPhoneInput[data-v-4b38d5b6]{font-size:36px}}.sPage .sForm .sInputField .sValue[data-v-4b38d5b6]{width:75%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.sPage .sForm .sInputField .sPasswordInput[data-v-4b38d5b6]{font-size:%?36?%;letter-spacing:%?10?%;-webkit-box-flex:1;-webkit-flex:auto;flex:auto\n\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPasswordInput[data-v-4b38d5b6]{font-size:36px}}.sPage .sForm .sInputField .sPasswordForgotten[data-v-4b38d5b6]{font-size:small;background:#fc962b;color:#000;height:%?52?%;line-height:%?52?%;padding:0 %?15?%;-webkit-box-flex:0;-webkit-flex:none;flex:none\n\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPasswordForgotten[data-v-4b38d5b6]{height:52px;line-height:52px;padding:0 15px}}.sPage .sForm .sInputField .sPasscodeInput[data-v-4b38d5b6]{font-size:%?36?%\n\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPasscodeInput[data-v-4b38d5b6]{font-size:36px}}.sPage .sForm .sInputField .sPasscodeButton[data-v-4b38d5b6]{height:%?52?%;line-height:%?52?%;background:#fc962b;color:#000;font-size:small;margin:0;padding:0 %?15?%\n\n}@media screen and (min-width:751px){.sPage .sForm .sInputField .sPasscodeButton[data-v-4b38d5b6]{height:52px;line-height:52px;padding:0 15px}}.sPage .sForm .sInputField .sErrorPrompt[data-v-4b38d5b6]{color:#fc4e2b;letter-spacing:unset}.sPage .sSubmitFeedback[data-v-4b38d5b6]{opacity:0;-webkit-transition:all 1s ease-in-out 0s;transition:all 1s ease-in-out 0s;font-size:small;color:#fc4e2b;margin:%?20?% auto\n\n}@media screen and (min-width:751px){.sPage .sSubmitFeedback[data-v-4b38d5b6]{margin:20px auto}}.sPage .sSubmitFeedback.sActive[data-v-4b38d5b6]{opacity:1}",""])},"776a":function(t,s,e){"use strict";(function(t){var a=e("288e");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=a(e("768b"));e("96cf");var o=a(e("3b8d")),i=a(e("15b8")),d=a(e("84449")),r={data:function(){return{_SS:this.$store.state,isLoading:!1,activeTab:"TAB_PASSWORD",password:"",passwordPrompt:"",passcodePrompt:"",submitFeedback:"",i18nText:(0,i.default)({zhCN:{tPageTitle:"ç™»å½•",tPhoneLabel:"æ‰‹æœºå·",tTabPasscode:"éªŒè¯ç ",tPasscodeLabel:"éªŒè¯ç ",tPasscodePrompt:"è¾“å…¥çŸ­ä¿¡éªŒè¯ç ",tPasscodeButton:"è·å–",tPasscodeMalformed:"éªŒè¯ç æ ¼å¼é”™è¯¯",tTabPassword:"å¯†ç ",tPasswordLabel:"å¯†ç ",tPasswordPrompt:"è¾“å…¥ç™»å½•å¯†ç ",tPasswordForgotten:"é‡è®¾",tPasswordMalformed:"å¯†ç æ ¼å¼é”™è¯¯",tPasswordUnmatch:"å¯†ç é”™è¯¯",tUserNotExist:"è¯¥æ‰‹æœºå·ç”¨æˆ·ä¸å­˜åœ¨",tBadResponse:"ğŸ˜­ åå°å¼‚å¸¸",tLoginButton:"ç™» å½•",tEmptyPhone:"æ‰‹æœºå·ä¸å­˜åœ¨"},enUS:{tPageTitle:"Login",tPhoneLabel:"Phone",tTabPasscode:"Passcode",tPasscodeLabel:"Passcode",tPasscodePrompt:"Input passcode",tPasscodeButton:"Send",tPasscodeMalformed:"Invalid format",tTabPassword:"Password",tPasswordLabel:"Password",tPasswordPrompt:"Input user password",tPasswordForgotten:"Reset",tPasswordMalformed:"Invalid format",tPasswordUnmatch:"Unmatched",tUserNotExist:"User not exist",tBadResponse:"ğŸ˜­ Exception",tLoginButton:"Login",tEmptyPhone:"Empty number, go back please"}})}},computed:{localeText:function(){return this.i18nText[this._SS.i18n.activeLang]}},onLoad:function(){this.$store.dispatch("Ident/restartIfOnline"),this.passwordPrompt=this.localeText.tPasswordPrompt,this.passcodePrompt=this.localeText.tPasscodePrompt},onShow:function(){uni.setNavigationBarTitle({title:this.localeText.tPageTitle}),document.title=this.$store.getters["i18n/getAppName"]},methods:{submitLogin:function(){var s=(0,o.default)(regeneratorRuntime.mark(function s(){var e,a,o,i,r;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:if(e=!0,"TAB_PASSWORD"!==this.activeTab){s.next=17;break}if(t.log("submitWithPassword"),/^.{6,}$/.test(this.password)||(this.password="",this.passwordPrompt=this.localeText.tPasswordMalformed,e=!1),!e){s.next=15;break}return this._SS.Ident.passwordClient=d.default.hash(this.password+this._SS.Ident.uuid),this.isLoading=!0,s.next=9,this.uni2log.request({url:"api/User/login",data:{phone:this._SS.Ident.phone,passwordClient:this._SS.Ident.passwordClient}});case 9:a=s.sent,o=(0,n.default)(a,2),o[0],i=o[1],this.isLoading=!1,i&&i.data?(r=i.data,i.header,i.statusCode,"LOGIN_SUCCESS"===r._state?(this._mylog("LOGIN_SUCCESS"),uni.setStorageSync("_passtoken",r._passtoken),r.onlineUser&&r.onlineUser.lang&&(this._SS.i18n.activeLang=r.onlineUser.lang,uni.setStorageSync("activeLang",this._SS.i18n.activeLang)),this._SS.User.onlineUser=r.onlineUser,this._mylog(this._SS.User.onlineUser),uni.switchTab({url:"Market"})):"LOGIN_FAILED_WRONG_PASSWORD"===r._state?(this._mylog("LOGIN_FAILED_WRONG_PASSWORD"),uni.showToast({image:"../static/Common.fail.png",title:this.localeText.tPasswordUnmatch})):"LOGIN_FAILED_USER_NOTEXIST"===r._state&&(this._mylog("LOGIN_FAILED_USER_NOTEXIST"),uni.showToast({image:"../static/Common.fail.png",title:this.localeText.tUserNotExist}))):uni.showToast({image:"../static/Common.fail.png",title:this.localeText.tBadResponse});case 15:s.next=18;break;case 17:"TAB_PASSCODE"===this.activeTab&&(t.log("submitWithPasscode"),/^\d{6}$/.test(this._SS.Ident.passcode)||(this._SS.Ident.passcode="",this.passcodePrompt=this.localeText.tPasscodeMalformed,e=!1));case 18:case"end":return s.stop()}},s,this)}));function e(){return s.apply(this,arguments)}return e}(),gotoReset:function(){uni.navigateTo({url:"IdentResetVerify"})}}};s.default=r}).call(this,e("5a52")["default"])},aa26:function(t,s,e){"use strict";e.r(s);var a=e("bbf8"),n=e("d59f");for(var o in n)"default"!==o&&function(t){e.d(s,t,function(){return n[t]})}(o);e("1999");var i,d=e("f0c5"),r=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"4b38d5b6",null,!1,a["a"],i);s["default"]=r.exports},bbf8:function(t,s,e){"use strict";var a,n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("v-uni-view",{staticClass:"sPage"},[e("v-uni-view",{staticClass:"sLogo"}),e("v-uni-view",{staticClass:"sForm"},[t._e(),e("v-uni-view",{staticClass:"sInputField"},[e("v-uni-text",{staticClass:"sLabel"},[t._v(t._s(t.localeText.tPhoneLabel))]),e("v-uni-text",{staticClass:"sPhoneInput",class:{sErrorPrompt:!t._SS.Ident.phone}},[t._v(t._s(t._SS.Ident.phone||t.localeText.tEmptyPhone))])],1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"TAB_PASSWORD"===t.activeTab,expression:"activeTab==='TAB_PASSWORD'"}]},[e("v-uni-view",{staticClass:"sInputField"},[e("v-uni-text",{staticClass:"sLabel"},[t._v(t._s(t.localeText.tPasswordLabel))]),e("v-uni-view",{staticClass:"sValue"},[e("v-uni-input",{staticClass:"sPasswordInput",attrs:{type:"text",password:"true",placeholder:t.passwordPrompt,"placeholder-class":t.passwordPrompt!==t.localeText.tPasswordPrompt?"sErrorPrompt":""},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),e("v-uni-button",{staticClass:"sPasswordForgotten",on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.gotoReset.apply(void 0,arguments)}}},[t._v(t._s(t.localeText.tPasswordForgotten))])],1)],1)],1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"TAB_PASSCODE"===t.activeTab,expression:"activeTab==='TAB_PASSCODE'"}]},[e("v-uni-view",{staticClass:"sInputField"},[e("v-uni-text",{staticClass:"sLabel"},[t._v(t._s(t.localeText.tPasscodeLabel))]),e("v-uni-view",{staticClass:"sValue"},[e("v-uni-input",{staticClass:"sPasscodeInput",attrs:{type:"number",maxlength:"6",placeholder:t.passcodePrompt,"placeholder-class":t.passcodePrompt!==t.localeText.tPasscodePrompt?"sErrorPrompt":""},model:{value:t._SS.Ident.passcode,callback:function(s){t.$set(t._SS.Ident,"passcode",s)},expression:"_SS.Ident.passcode"}}),e("v-uni-button",{staticClass:"sPasscodeButton"},[t._v(t._s(t.localeText.tPasscodeButton))])],1)],1)],1)],1),e("v-uni-view",{staticClass:"sFooterFloating"},[e("v-uni-button",{staticClass:"sSubmitButton",attrs:{loading:t.isLoading,disabled:t.isLoading},on:{click:function(s){arguments[0]=s=t.$handleEvent(s),t.submitLogin.apply(void 0,arguments)}}},[t._v(t._s(t.localeText.tLoginButton))]),e("v-uni-text",{staticClass:"sSubmitFeedback",class:{sActive:t.submitFeedback}},[t._v(t._s(t.submitFeedback))])],1)],1)},o=[];e.d(s,"b",function(){return n}),e.d(s,"c",function(){return o}),e.d(s,"a",function(){return a})},d59f:function(t,s,e){"use strict";e.r(s);var a=e("776a"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(s,t,function(){return a[t]})}(o);s["default"]=n.a}}]);