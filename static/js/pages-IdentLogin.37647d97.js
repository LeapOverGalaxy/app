(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-IdentLogin"],{3373:function(e,o,t){"use strict";var a=t("b1c1"),r=t.n(a);r.a},7521:function(e,o,t){e.exports=t.p+"static/img/sky.a5e09589.jpg"},"776a":function(e,o,t){"use strict";(function(e){var a=t("4ea4");t("dca8"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,t("96cf");var r=a(t("1da1")),s={data:function(){return{isLoading:!1,activeTab:"TAB_PASSWORD",password:"",i18nText:Object.freeze({zhCN:{tPageTitle:"登录",tPhoneLabel:"手机号",tTabPasscode:"验证码",tPasscodeLabel:"验证码",tPasscodePrompt:"输入短信验证码",tPasscodeButton:"获取",tPasscodeFeedback:{PASSCODE_MALFORMED:"验证码格式错误"},tTabPassword:"密码",tPasswordLabel:"密码",tPasswordPrompt:"输入登录密码",tPasswordForgotten:"重设",tPasswordFeedback:{PASSWORD_MALFORMED:"密码格式错误",PASSWORD_UNMATCH_SERVER:"密码核对错误",USER_NOT_EXIST:"该手机号用户不存在",SERVER_BAD_RESPONSE:"后台异常"},tLoginButton:"登 录",tEmptyPhone:"手机号不存在"},enUS:{tPageTitle:"Login",tPhoneLabel:"Phone",tTabPasscode:"Passcode",tPasscodeLabel:"Passcode",tPasscodePrompt:"Input passcode",tPasscodeButton:"Send",tPasscodeFeedback:{PASSCODE_MALFORMED:"Invalid format"},tTabPassword:"Password",tPasswordLabel:"Password",tPasswordPrompt:"Input user password",tPasswordForgotten:"Reset",tPasswordFeedback:{PASSWORD_MALFORMED:"Invalid format",PASSWORD_UNMATCH_SERVER:"Unmatched",USER_NOT_EXIST:"User not exist",SERVER_BAD_RESPONSE:"Server response error"},tLoginButton:"Login",tEmptyPhone:"Empty number, go back please"}})}},computed:{lote:getApp().$UU.localeText},onLoad:function(){this.$store.dispatch("Ident/restartIfOnline")},onShow:function(){this.$store.commit("i18n/setBarTitles")},methods:{submitLogin:function(){var o=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,r,s,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("TAB_PASSWORD"!==o.activeTab){t.next=22;break}if(e("log","submitWithPassword"," at pages/IdentLogin.vue:72"),/^.{6,}$/.test(o.password)){t.next=6;break}o.$UU.showToast.call(o,{type:o.$UU.RED,title:o.lote.tPasswordFeedback.PASSWORD_MALFORMED}),t.next=20;break;case 6:return o.$SS.Ident.passwordClient=o.$UU.hash(o.password+o.$SS.Ident.uuid),o.isLoading=!0,t.next=10,o.$UU.callBackend({backend:"CLOUD",apiWho:"User",apiHow:"login",apiWhat:{phone:o.$SS.Ident.phone,passwordClient:o.$SS.Ident.passwordClient}});case 10:if(t.t0=t.sent,t.t0){t.next=13;break}t.t0={};case 13:a=t.t0,r=a._state,s=a.onlineUser,c=a._passtoken,l=a.uni_id_token,o.isLoading=!1,"LOGIN_SUCCESS"===r&&c?(o.$UU.clog("LOGIN_SUCCESS"),uni.setStorageSync("_passtoken",c),uni.setStorageSync("uni_id_token",l),o.$UU.clog("------------login success: sending socket message---------------"),o.$SKT.sendObject({skevent:"SOCKET_OWNER",_passtoken:c}),o.$SS.User.onlineUser=s,s&&s.lang&&(o.$SS.i18n.mylang=s.lang,uni.setStorageSync("mylang",o.$SS.i18n.mylang)),o.$UU.clog(s),uni.navigateTo({url:"SceneShow"})):"LOGIN_FAILED_WRONG_PASSWORD"===r?o.$UU.showToast.call(o,{type:o.$UU.RED,title:o.lote.tPasswordFeedback.PASSWORD_UNMATCH_SERVER}):"LOGIN_FAILED_USER_NOTEXIST"===r?o.$UU.showToast.call(o,{type:o.$UU.RED,title:o.lote.tPasswordFeedback.USER_NOT_EXIST}):o.$UU.showToast.call(o,{type:o.$UU.RED,title:o.lote.tPasswordFeedback.SERVER_BAD_RESPONSE});case 20:t.next=23;break;case 22:"TAB_PASSCODE"===o.activeTab&&(e("log","submitWithPasscode"," at pages/IdentLogin.vue:110"),/^\d{6}$/.test(o.$SS.Ident.passcode)||o.$UU.showToast.call(o,{type:o.$UU.RED,title:o.lote.tPasscodeFeedback.PASSCODE_MALFORMED}));case 23:case"end":return t.stop()}}),t)})))()},gotoReset:function(){uni.navigateTo({url:"IdentResetVerify"})}}};o.default=s}).call(this,t("0de9")["log"])},"9feb":function(e,o,t){var a=t("24fb"),r=t("1de5"),s=t("7521");o=a(!1);var c=r(s);o.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/********* 自定义主题 **********/\n/**\n * Unified Theme\n * 通用个性化主题\n */.us-bg-color-red[data-v-4398ef56]{background-color:#fc4e2b}.us-text-color-red[data-v-4398ef56]{color:#fc4e2b}.us-border-color-red[data-v-4398ef56]{border-color:#fc4e2b}.us-bg-color-red-dark[data-v-4398ef56]{background-color:#dd6161}.us-text-color-red-dark[data-v-4398ef56]{color:#dd6161}.us-border-color-red-dark[data-v-4398ef56]{border-color:#dd6161}.us-bg-color-red-matt[data-v-4398ef56]{background-color:#fab6b6}.us-text-color-red-matt[data-v-4398ef56]{color:#fab6b6}.us-border-color-red-matt[data-v-4398ef56]{border-color:#fab6b6}.us-bg-color-red-light[data-v-4398ef56]{background-color:#fef0f0}.us-text-color-red-light[data-v-4398ef56]{color:#fef0f0}.us-border-color-red-light[data-v-4398ef56]{border-color:#fef0f0}.us-bg-color-green[data-v-4398ef56]{background-color:#19be6b}.us-text-color-green[data-v-4398ef56]{color:#19be6b}.us-border-color-green[data-v-4398ef56]{border-color:#19be6b}.us-bg-color-green-dark[data-v-4398ef56]{background-color:#18b566}.us-text-color-green-dark[data-v-4398ef56]{color:#18b566}.us-border-color-green-dark[data-v-4398ef56]{border-color:#18b566}.us-bg-color-green-matt[data-v-4398ef56]{background-color:#71d5a1}.us-text-color-green-matt[data-v-4398ef56]{color:#71d5a1}.us-border-color-green-matt[data-v-4398ef56]{border-color:#71d5a1}.us-bg-color-green-light[data-v-4398ef56]{background-color:#dbf1e1}.us-text-color-green-light[data-v-4398ef56]{color:#dbf1e1}.us-border-color-green-light[data-v-4398ef56]{border-color:#dbf1e1}.us-bg-color-blue[data-v-4398ef56]{background-color:#2979ff}.us-text-color-blue[data-v-4398ef56]{color:#2979ff}.us-border-color-blue[data-v-4398ef56]{border-color:#2979ff}.us-bg-color-blue-dark[data-v-4398ef56]{background-color:#2b85e4}.us-text-color-blue-dark[data-v-4398ef56]{color:#2b85e4}.us-border-color-blue-dark[data-v-4398ef56]{border-color:#2b85e4}.us-bg-color-blue-matt[data-v-4398ef56]{background-color:#a0cfff}.us-text-color-blue-matt[data-v-4398ef56]{color:#a0cfff}.us-border-color-blue-matt[data-v-4398ef56]{border-color:#a0cfff}.us-bg-color-blue-light[data-v-4398ef56]{background-color:#ecf5ff}.us-text-color-blue-light[data-v-4398ef56]{color:#ecf5ff}.us-border-color-blue-light[data-v-4398ef56]{border-color:#ecf5ff}.us-bg-color-yellow[data-v-4398ef56]{background-color:#fc962b}.us-text-color-yellow[data-v-4398ef56]{color:#fc962b}.us-border-color-yellow[data-v-4398ef56]{border-color:#fc962b}.us-bg-color-yellow-dark[data-v-4398ef56]{background-color:#f29100}.us-text-color-yellow-dark[data-v-4398ef56]{color:#f29100}.us-border-color-yellow-dark[data-v-4398ef56]{border-color:#f29100}.us-bg-color-yellow-matt[data-v-4398ef56]{background-color:#fcbd71}.us-text-color-yellow-matt[data-v-4398ef56]{color:#fcbd71}.us-border-color-yellow-matt[data-v-4398ef56]{border-color:#fcbd71}.us-bg-color-yellow-light[data-v-4398ef56]{background-color:#fdf6ec}.us-text-color-yellow-light[data-v-4398ef56]{color:#fdf6ec}.us-border-color-yellow-light[data-v-4398ef56]{border-color:#fdf6ec}.us-bg-color-grey[data-v-4398ef56]{background-color:#909399}.us-text-color-grey[data-v-4398ef56]{color:#909399}.us-border-color-grey[data-v-4398ef56]{border-color:#909399}.us-bg-color-grey-dark[data-v-4398ef56]{background-color:#82848a}.us-text-color-grey-dark[data-v-4398ef56]{color:#82848a}.us-border-color-grey-dark[data-v-4398ef56]{border-color:#82848a}.us-bg-color-grey-matt[data-v-4398ef56]{background-color:#c8c9cc}.us-text-color-grey-matt[data-v-4398ef56]{color:#c8c9cc}.us-border-color-grey-matt[data-v-4398ef56]{border-color:#c8c9cc}.us-bg-color-grey-light[data-v-4398ef56]{background-color:#f4f4f5}.us-text-color-grey-light[data-v-4398ef56]{color:#f4f4f5}.us-border-color-grey-light[data-v-4398ef56]{border-color:#f4f4f5}.us-bg-color-black[data-v-4398ef56]{background-color:#606266}.us-text-color-black[data-v-4398ef56]{color:#606266}.us-border-color-black[data-v-4398ef56]{border-color:#606266}.us-bg-color-black-dark[data-v-4398ef56]{background-color:#303133}.us-text-color-black-dark[data-v-4398ef56]{color:#303133}.us-border-color-black-dark[data-v-4398ef56]{border-color:#303133}.us-bg-color-black-matt[data-v-4398ef56]{background-color:#909399}.us-text-color-black-matt[data-v-4398ef56]{color:#909399}.us-border-color-black-matt[data-v-4398ef56]{border-color:#909399}.us-bg-color-black-light[data-v-4398ef56]{background-color:#c0c4cc}.us-text-color-black-light[data-v-4398ef56]{color:#c0c4cc}.us-border-color-black-light[data-v-4398ef56]{border-color:#c0c4cc}.us-bg-color-white[data-v-4398ef56]{background-color:#e4e7ed}.us-text-color-white[data-v-4398ef56]{color:#e4e7ed}.us-border-color-white[data-v-4398ef56]{border-color:#e4e7ed}.us-bg-color-white-dark[data-v-4398ef56]{background-color:#dcdfe6}.us-text-color-white-dark[data-v-4398ef56]{color:#dcdfe6}.us-border-color-white-dark[data-v-4398ef56]{border-color:#dcdfe6}.us-bg-color-white-matt[data-v-4398ef56]{background-color:#ebeef5}.us-text-color-white-matt[data-v-4398ef56]{color:#ebeef5}.us-border-color-white-matt[data-v-4398ef56]{border-color:#ebeef5}.us-bg-color-white-light[data-v-4398ef56]{background-color:#f3f4f6}.us-text-color-white-light[data-v-4398ef56]{color:#f3f4f6}.us-border-color-white-light[data-v-4398ef56]{border-color:#f3f4f6}.us-bg-color-main[data-v-4398ef56]{background-color:#fc4e2b}.us-text-color-main[data-v-4398ef56]{color:#fc4e2b}.us-border-color-main[data-v-4398ef56]{border-color:#fc4e2b}.us-bg-color-minor[data-v-4398ef56]{background-color:#fc962b}.us-text-color-minor[data-v-4398ef56]{color:#fc962b}.us-border-color-minor[data-v-4398ef56]{border-color:#fc962b}.us-bg-mask-black[data-v-4398ef56]{background-color:rgba(0,0,0,.3)}.us-text-mask-black[data-v-4398ef56]{color:rgba(0,0,0,.3)}.us-border-mask-black[data-v-4398ef56]{border-color:rgba(0,0,0,.3)}.us-bg-mask-black-light[data-v-4398ef56]{background-color:rgba(0,0,0,.15)}.us-text-mask-black-light[data-v-4398ef56]{color:rgba(0,0,0,.15)}.us-border-mask-black-light[data-v-4398ef56]{border-color:rgba(0,0,0,.15)}.us-bg-mask-black-dark[data-v-4398ef56]{background-color:rgba(0,0,0,.5)}.us-text-mask-black-dark[data-v-4398ef56]{color:rgba(0,0,0,.5)}.us-border-mask-black-dark[data-v-4398ef56]{border-color:rgba(0,0,0,.5)}.sPage[data-v-4398ef56]{background-image:url('+c+");-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?20?%}.sPage .sForm[data-v-4398ef56]{padding:%?50?% 0;width:100%\n}@media screen and (min-width:751px){.sPage .sForm[data-v-4398ef56]{max-width:600px}}.sPage .sForm .sTabSet[data-v-4398ef56]{margin:0 auto;margin-bottom:%?40?%;width:80%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.sPage .sForm .sTabSet .sTabButton[data-v-4398ef56]{margin:0;color:#fc4e2b;width:50%;height:%?60?%;line-height:%?60?%}.sPage .sForm .sTabSet .sTabButton[data-v-4398ef56]:nth-child(1){border-radius:4px 0 0 4px}.sPage .sForm .sTabSet .sTabButton[data-v-4398ef56]:nth-child(2){border-radius:0 4px 4px 0}.sPage .sForm .sTabSet .sTabButton.sActiveTab[data-v-4398ef56]{background:#fc4e2b;color:#fff}.sPage .sForm .sInputField[data-v-4398ef56]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;padding:%?15?%;border-bottom:1px solid #c0c4cc;color:#c0c4cc;margin:%?20?% auto}.sPage .sForm .sInputField .sLabel[data-v-4398ef56]{width:25%}.sPage .sForm .sInputField .sLabel[data-v-4398ef56]{width:25%;font-size:%?36?%}.sPage .sForm .sInputField .sPhoneInput[data-v-4398ef56]{width:75%;font-size:%?36?%;letter-spacing:%?10?%}.sPage .sForm .sInputField .sValue[data-v-4398ef56]{width:75%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.sPage .sForm .sInputField .sPasswordInput[data-v-4398ef56]{font-size:%?36?%;letter-spacing:%?10?%;-webkit-box-flex:1;-webkit-flex:auto;flex:auto}.sPage .sForm .sInputField .sPasscodeInput[data-v-4398ef56]{font-size:%?36?%}.sPage .sForm .sInputField .sErrorPrompt[data-v-4398ef56]{color:#fc4e2b;letter-spacing:normal}.sPage .sForm .sInputField .sPlaceholder[data-v-4398ef56]{letter-spacing:normal}",""]),e.exports=o},aa26:function(e,o,t){"use strict";t.r(o);var a=t("eb59"),r=t("d59f");for(var s in r)"default"!==s&&function(e){t.d(o,e,(function(){return r[e]}))}(s);t("3373");var c,l=t("f0c5"),d=Object(l["a"])(r["default"],a["b"],a["c"],!1,null,"4398ef56",null,!1,a["a"],c);o["default"]=d.exports},b1c1:function(e,o,t){var a=t("9feb");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=t("4f06").default;r("713f67a8",a,!0,{sourceMap:!1,shadowMode:!1})},d59f:function(e,o,t){"use strict";t.r(o);var a=t("776a"),r=t.n(a);for(var s in a)"default"!==s&&function(e){t.d(o,e,(function(){return a[e]}))}(s);o["default"]=r.a},eb59:function(e,o,t){"use strict";t.d(o,"b",(function(){return r})),t.d(o,"c",(function(){return s})),t.d(o,"a",(function(){return a}));var a={ucToast:t("fb99").default,uButton:t("3357").default},r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("v-uni-view",{staticClass:"sPage"},[t("ucToast",{ref:"toast"}),t("v-uni-view",{staticClass:"sLogo"}),t("v-uni-view",{staticClass:"sForm"},[e._e(),t("v-uni-view",{staticClass:"sInputField"},[t("v-uni-text",{staticClass:"sLabel"},[e._v(e._s(e.lote.tPhoneLabel))]),t("v-uni-text",{staticClass:"sPhoneInput",class:{sErrorPrompt:!e.$SS.Ident.phone}},[e._v(e._s(e.$SS.Ident.phone||e.lote.tEmptyPhone))])],1),t("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"TAB_PASSWORD"===e.activeTab,expression:"activeTab === 'TAB_PASSWORD'"}]},[t("v-uni-view",{staticClass:"sInputField"},[t("v-uni-text",{staticClass:"sLabel"},[e._v(e._s(e.lote.tPasswordLabel))]),t("v-uni-view",{staticClass:"sValue"},[t("v-uni-input",{staticClass:"sPasswordInput",attrs:{type:"text",password:"true",placeholder:e.lote.tPasswordPrompt,"placeholder-class":"sPlaceholder"},model:{value:e.password,callback:function(o){e.password=o},expression:"password"}}),t("u-button",{staticClass:"s重设",attrs:{size:"mini",type:e.$UU.GREY},on:{click:function(o){arguments[0]=o=e.$handleEvent(o),e.gotoReset.apply(void 0,arguments)}}},[e._v(e._s(e.lote.tPasswordForgotten))])],1)],1)],1),t("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"TAB_PASSCODE"===e.activeTab,expression:"activeTab === 'TAB_PASSCODE'"}]},[t("v-uni-view",{staticClass:"sInputField"},[t("v-uni-text",{staticClass:"sLabel"},[e._v(e._s(e.lote.tPasscodeLabel))]),t("v-uni-view",{staticClass:"sValue"},[t("v-uni-input",{staticClass:"sPasscodeInput",attrs:{type:"number",maxlength:"6",placeholder:"lote.tPasscodePrompt","placeholder-class":"sPlaceholder"},model:{value:e.$SS.Ident.passcode,callback:function(o){e.$set(e.$SS.Ident,"passcode",o)},expression:"$SS.Ident.passcode"}}),t("u-button",{attrs:{size:"mini",type:e.$UU.GREY}},[e._v(e._s(e.lote.tPasscodeButton))])],1)],1)],1),t("v-uni-view",{staticClass:"sFooterFloating"},[t("u-button",{attrs:{type:e.$UU.RED,loading:e.isLoading,disabled:e.isLoading},on:{click:function(o){arguments[0]=o=e.$handleEvent(o),e.submitLogin.apply(void 0,arguments)}}},[e._v(e._s(e.lote.tLoginButton))])],1)],1)],1)},s=[]}}]);